div.filters(title="Filters" ng-click="showFiltersModal('show');")
  img(src="../img/icons/table-edit.svg" tooltip-side="bottom" tooltips tooltip-template="Filters")

div.filters-modal(ng-show="modalShowing" ng-click="showFiltersModal('hide')")
  .wrapper
    .modal-wrapper(ng-click="$event.stopPropagation()")
      ul
        li(ng-repeat="filter in tempFilters" ng-if="tempFilters[$index].canChange") 
          input(type="checkbox" ng-model="tempFilters[$index].show")
          | {{ filter.title }}
      .button-container
        button(ng-click="setFilters()") Set Filters
table(fixed-header-table)
  thead
    tr
      th(ng-repeat="filter in filters" ng-if="isFilterVisible(filter.title)")
        span(tooltips tooltip-side="bottom" tooltip-template="{{filter.tipText}}") {{ filter.title }}
  tbody
    tr(ng-repeat="app in prototypingTools | orderBy:'name'")

      td
        a(ng-href="{{app.url}}" title="{{app.url}}" target="_blank")
          img(alt="{{app.name}} Logo" src="../img/blank.png" ng-style="{{app.image}}")
        .star(ng-if="app.taylorChoice")
          include ../img/icons/star.svg
      td 
        a(ng-href="{{app.url}}" title="{{app.url}}" target="_blank") {{ app.name }}

      td(ng-if="isFilterVisible('Free');")
        div(ng-if="app.pricing.free")
          include ../img/icons/check.svg
      td(style="min-width: 100px" ng-if="isFilterVisible('Subscription');")
        span {{app.pricing.subscription}}
      td(style="min-width: 100px" ng-if="isFilterVisible('Purchase');")
        span {{app.pricing.purchase}}
        
      td(ng-if="isFilterVisible('Platform');")
        div.flex-wrapper
          div.flex-col
            div(ng-if="app.platforms.web" tooltips tooltip-template="Web")
              div(title="Web")
                include ../img/icons/cloud-outline.svg
      td(ng-if="isFilterVisible('Playback');")
        div(ng-if="app.playback")
          include ../img/icons/check.svg
      td(ng-if="isFilterVisible('Skip');")
        div(ng-if="app.skipInactivity")
          include ../img/icons/check.svg
      td(ng-if="isFilterVisible('Speed');")
        div(ng-if="app.playbackSpeed")
          include ../img/icons/check.svg
      td(ng-if="isFilterVisible('Jump Back');")
        div(ng-if="app.jumpBack")
          include ../img/icons/check.svg
      td(ng-if="isFilterVisible('Console');")
        div(ng-if="app.console")
          include ../img/icons/check.svg
      td(ng-if="isFilterVisible('Heatmaps');")
        div(ng-if="app.heatmaps")
          include ../img/icons/check.svg
      td(ng-if="isFilterVisible('Location');")
        div(ng-if="app.location")
          include ../img/icons/check.svg
      td(ng-if="isFilterVisible('Form Stats');")
        div(ng-if="app.formAnalytics")
          include ../img/icons/check.svg
      td(ng-if="isFilterVisible('Polls');")
        div(ng-if="app.polls")
          include ../img/icons/check.svg
      td(ng-if="isFilterVisible('Export');")
        div.flex-col
          div(ng-if="app.export.html" tooltips tooltip-template="Static HTML file")
            div(title="HTML")
              include ../img/icons/html.svg