!function t(e,o){"use strict";var i="tooltips",r=function c(){var t=[],e=0,i=function n(i){i-e>=15?(t.forEach(function r(t){t()}),e=i):o.console.log("Skipped!")},r,l=function s(){o.clearTimeout(r),r=o.setTimeout(function t(){o.requestAnimationFrame(i)},500)},a=function p(e){e&&t.push(e)};return{add:function d(e){t.length||o.addEventListener("resize",l),a(e)},remove:function m(){t.length||(o.clearTimeout(r),o.removeEventListener("resize",l))}}}(),l=function u(t){var e={};return t.removeAttr(i),void 0!==t.attr("tooltip-template")&&(e["tooltip-template"]=t.attr("tooltip-template"),t.removeAttr("tooltip-template")),void 0!==t.attr("tooltip-template-url")&&(e["tooltip-template-url"]=t.attr("tooltip-template-url"),t.removeAttr("tooltip-template-url")),void 0!==t.attr("tooltip-controller")&&(e["tooltip-controller"]=t.attr("tooltip-controller"),t.removeAttr("tooltip-controller")),void 0!==t.attr("tooltip-side")&&(e["tooltip-side"]=t.attr("tooltip-side"),t.removeAttr("tooltip-side")),void 0!==t.attr("tooltip-show-trigger")&&(e["tooltip-show-trigger"]=t.attr("tooltip-show-trigger"),t.removeAttr("tooltip-show-trigger")),void 0!==t.attr("tooltip-hide-trigger")&&(e["tooltip-hide-trigger"]=t.attr("tooltip-hide-trigger"),t.removeAttr("tooltip-hide-trigger")),void 0!==t.attr("tooltip-smart")&&(e["tooltip-smart"]=t.attr("tooltip-smart"),t.removeAttr("tooltip-smart")),void 0!==t.attr("tooltip-class")&&(e["tooltip-class"]=t.attr("tooltip-class"),t.removeAttr("tooltip-class")),void 0!==t.attr("tooltip-close-button")&&(e["tooltip-close-button"]=t.attr("tooltip-close-button"),t.removeAttr("tooltip-close-button")),void 0!==t.attr("tooltip-size")&&(e["tooltip-size"]=t.attr("tooltip-size"),t.removeAttr("tooltip-size")),void 0!==t.attr("tooltip-speed")&&(e["tooltip-speed"]=t.attr("tooltip-speed"),t.removeAttr("tooltip-speed")),e},a=function g(t){return o.getComputedStyle?o.getComputedStyle(t,""):t.currentStyle?t.currentStyle:void 0},n=function f(t){for(var i=o.document.querySelectorAll("._exradicated-tooltip"),r,l=0,a=i.length,n;a>l;l+=1)if(r=i.item(l),r&&(n=e.element(r),n.data("_tooltip-parent")&&n.data("_tooltip-parent")===t))return n},s=function v(t){var e=n(t);e&&e.remove()},p=function h(t){if(t){var e=t[0].getBoundingClientRect();return e.top<0||e.top>o.document.body.offsetHeight||e.left<0||e.left>o.document.body.offsetWidth||e.bottom<0||e.bottom>o.document.body.offsetHeight||e.right<0||e.right>o.document.body.offsetWidth?(t.css({top:"",left:"",bottom:"",right:""}),!0):!1}throw new Error("You must provide a position")},d=function C(){var t={side:"top",showTrigger:"mouseover",hideTrigger:"mouseleave","class":"",smart:!1,closeButton:!1,size:"",speed:"steady"};return{configure:function e(o){var i=Object.keys(t),r=0,l;if(o)for(;r<i.length;r+=1)l=i[r],l&&o[l]&&(t[l]=o[l])},$get:function o(){return t}}},m=function _(t,i,d,m,c,u,g){var f=function v(t,u,f,h,C){if(f.tooltipTemplate&&f.tooltipTemplateUrl)throw new Error("You can not define tooltip-template and tooltip-template-url together");if(!f.tooltipTemplateUrl&&!f.tooltipTemplate&&f.tooltipController)throw new Error("You can not have a controller without a template or templateUrl defined");var _="_"+g.side,b=g.showTrigger,y=g.hideTrigger,w,T=g.size,S="_"+g.speed;f.tooltipSide=f.tooltipSide||g.side,f.tooltipShowTrigger=f.tooltipShowTrigger||g.showTrigger,f.tooltipHideTrigger=f.tooltipHideTrigger||g.hideTrigger,f.tooltipClass=f.tooltipClass||g["class"],f.tooltipSmart="true"===f.tooltipSmart||g.smart,f.tooltipCloseButton=f.tooltipCloseButton||g.closeButton.toString(),f.tooltipSize=f.tooltipSize||g.size,f.tooltipSpeed=f.tooltipSpeed||g.speed,f.tooltipAppendToBody="true"===f.tooltipAppendToBody,C(t,function A(t,g){var v=l(t),h=e.element(o.document.createElement("tooltip")),C=e.element(o.document.createElement("tip-cont")),A=e.element(o.document.createElement("tip")),B=e.element(o.document.createElement("tip-tip")),z=e.element(o.document.createElement("span")),E=e.element(o.document.createElement("tip-arrow")),k=function rt(){return C.html()},P=function lt(t){void 0!==t&&C[0].getClientRects().length>1?h.addClass("_multiline"):h.removeClass("_multiline")},x=function at(t){if(A.addClass("_hidden"),f.tooltipSmart)switch(f.tooltipSide){case"top":p(A)&&(h.removeClass("_top"),h.addClass("_left"),p(A)&&(h.removeClass("_left"),h.addClass("_bottom"),p(A)&&(h.removeClass("_bottom"),h.addClass("_right"),p(A)&&(h.removeClass("_right"),h.addClass("_top")))));break;case"left":p(A)&&(h.removeClass("_left"),h.addClass("_bottom"),p(A)&&(h.removeClass("_bottom"),h.addClass("_right"),p(A)&&(h.removeClass("_right"),h.addClass("_top"),p(A)&&(h.removeClass("_top"),h.addClass("_left")))));break;case"bottom":p(A)&&(h.removeClass("_bottom"),h.addClass("_left"),p(A)&&(h.removeClass("_left"),h.addClass("_top"),p(A)&&(h.removeClass("_top"),h.addClass("_right"),p(A)&&(h.removeClass("_right"),h.addClass("_bottom")))));break;case"right":p(A)&&(h.removeClass("_right"),h.addClass("_top"),p(A)&&(h.removeClass("_top"),h.addClass("_left"),p(A)&&(h.removeClass("_left"),h.addClass("_bottom"),p(A)&&(h.removeClass("_bottom"),h.addClass("_right")))));break;default:throw new Error("Position not supported")}if(f.tooltipAppendToBody){var i=a(B[0]),r=a(E[0]),l=a(A[0]),n=A[0].getBoundingClientRect(),d=e.copy(A),m=0,c=i.length,u=0,g=r.length,v=0,C=l.length,_,b={},y={},w={},T,S,z,k;for(A.removeClass("_hidden"),d.removeClass("_hidden"),d.data("_tooltip-parent",h),s(h);c>m;m+=1)_=i[m],_&&i.getPropertyValue(_)&&(b[_]=i.getPropertyValue(_));for(;g>u;u+=1)_=r[u],_&&r.getPropertyValue(_)&&(w[_]=r.getPropertyValue(_));for(;C>v;v+=1)_=l[v],_&&"position"!==_&&"display"!==_&&"opacity"!==_&&"z-index"!==_&&"bottom"!==_&&"height"!==_&&"left"!==_&&"right"!==_&&"top"!==_&&"width"!==_&&l.getPropertyValue(_)&&(y[_]=l.getPropertyValue(_));T=o.parseInt(l.getPropertyValue("padding-top"),10),S=o.parseInt(l.getPropertyValue("padding-bottom"),10),z=o.parseInt(l.getPropertyValue("padding-left"),10),k=o.parseInt(l.getPropertyValue("padding-right"),10),y.top=n.top+o.pageYOffset+"px",y.left=n.left+o.pageXOffset+"px",y.height=n.height-(T+S)+"px",y.width=n.width-(z+k)+"px",d.css(y),d.children().css(b),d.children().next().css(w),t&&"true"!==f.tooltipHidden&&(d.addClass("_exradicated-tooltip"),e.element(o.document.body).append(d))}else A.removeClass("_hidden"),t&&"true"!==f.tooltipHidden&&h.addClass("active")},H=function nt(){f.tooltipAppendToBody?s(h):h.removeClass("active")},V=function st(t){var e=t.parent(),o;t[0]&&(t[0].scrollHeight>t[0].clientHeight||t[0].scrollWidth>t[0].clientWidth)&&t.on("scroll",function i(){var t=this;o&&m.cancel(o),o=m(function e(){var e=n(h),o=h[0].getBoundingClientRect(),i=t.getBoundingClientRect();o.top<i.top||o.bottom>i.bottom||o.left<i.left||o.right>i.right?s(h):e&&x(!0)})}),e&&e.length&&st(e)},R=function pt(t){t?(h.removeClass("_force-hidden"),B.empty(),B.append(z),B.append(t),m(function e(){x()})):(B.empty(),h.addClass("_force-hidden"))},W=function dt(t){t?i.get(t).then(function e(t){t&&t.data&&(h.removeClass("_force-hidden"),B.empty(),B.append(z),B.append(d(t.data)(g)),m(function e(){x()}))}):(B.empty(),h.addClass("_force-hidden"))},I=function mt(t){t&&(_&&h.removeAttr("_"+_),h.addClass("_"+t),_=t)},O=function ct(t){t&&(b&&h.off(b),h.on(t,x),b=t)},U=function ut(t){t&&(y&&h.off(y),h.on(t,H),y=t)},Y=function gt(t){t&&(w&&A.removeClass(w),A.addClass(t),w=t)},q=function ft(){"boolean"!=typeof f.tooltipSmart&&(f.tooltipSmart="true"===f.tooltipSmart)},L=function vt(t){var e="true"===t;e?(z.on("click",H),z.css("display","block")):(z.off("click"),z.css("display","none"))},j=function ht(t){if(t){var o=c(t,{$scope:g}),i=g.$new(!1,g),r=t.indexOf("as"),l;r>=0?(l=t.substr(r+3),i[l]=o):e.extend(i,o),B.replaceWith(d(B)(i)),tt()}},F=function Ct(t){t&&(T&&B.removeClass("_"+T),B.addClass("_"+t),T=t)},X=function _t(t){t&&(S&&h.removeClass("_"+S),h.addClass("_"+t),S=t)},D=f.$observe("tooltipTemplate",R),G=f.$observe("tooltipTemplateUrl",W),J=f.$observe("tooltipSide",I),K=f.$observe("tooltipShowTrigger",O),M=f.$observe("tooltipHideTrigger",U),N=f.$observe("tooltipClass",Y),Q=f.$observe("tooltipSmart",q),Z=f.$observe("tooltipCloseButton",L),tt=f.$observe("tooltipController",j),et=f.$observe("tooltipSize",F),ot=f.$observe("tooltipSpeed",X),it=g.$watch(k,P);z.attr({id:"close-button"}),z.html("&times;"),A.addClass("_hidden"),B.append(z),B.append(f.tooltipTemplate),A.append(B),A.append(E),C.append(t),h.attr(v),h.addClass("tooltips"),h.append(C),h.append(A),u.after(h),f.tooltipAppendToBody&&(r.add(function bt(){V(h)}),V(h)),r.add(function yt(){P(),x()}),m(function wt(){x(),A.removeClass("_hidden"),h.addClass("_ready")}),g.$on("$destroy",function Tt(){D(),G(),J(),K(),M(),N(),Q(),Z(),et(),ot(),it(),r.remove(),t.off(f.tooltipShowTrigger+" "+f.tooltipHideTrigger)})})};return{restrict:"A",transclude:"element",priority:1,terminal:!0,link:f}};e.module("720kb.tooltips",[]).provider(i+"Conf",d).directive(i,m)}(angular,window);